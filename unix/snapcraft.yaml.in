# ./BrickStore-Install needs to contain a brickstore installation into
# ./usr/bin, including the Qt libraries

name: brickstore
grade: stable
confinement: strict
base: core22
compression: lzo
license: GPL-3.0
source-code: 'https://@GITHUB_URL@'
website: 'https://@BRICKSTORE_URL@'
adopt-info: brickstore
icon: snap/gui/brickstore.png

apps:
  brickstore:
    command: usr/bin/brickstore
    common-id: dev.brickstore.BrickStore
    desktop: usr/share/applications/brickstore.desktop
    extensions: [ gnome ]
    environment:
      QT_QPA_PLATFORMTHEME: gtk3
      DISABLE_WAYLAND: 1
    plugs:
      - x11
      - unity7
      - network
      - network-manager-observe
      - network-status
      - home
      - removable-media
      - cups-control
      - camera
      - password-manager-service

parts:
  brickstore:
    plugin: dump
    source: BrickStore-Install/
    parse-info: [ usr/share/metainfo/dev.brickstore.BrickStore.appdata.xml ]

architectures:
  - build-on: amd64
